{"ast":null,"code":"var _jsxFileName = \"/Users/tunahanyazar/Desktop/Cs_308_Project_Frontend/CS308-FE/src/AppContent.js\";\n// AppContent.js\nimport React, { useState, useEffect } from 'react';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nimport Navbar from './navbar';\nimport Login from './login';\nimport Register from './register';\nimport HomePage from './HomePage';\nimport Profile from './profile';\nimport ShoppingCart from './ShoppingCart';\nimport axios from 'axios';\nfunction AppContent() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userId, setUserId] = useState(null);\n  const [userProfile, setUserProfile] = useState(null);\n  const navigate = useNavigate();\n\n  // this useEffect hook will run when the component mounts (in each navigation, it will run)\n  useEffect(() => {\n    // checkLoginStatus function is defined to check the login status of the user\n    const checkLoginStatus = async () => {\n      // take the token from the local storage of the web browser\n      const token = localStorage.getItem('token');\n\n      // if there is no token, set the isLoggedIn state to false and set the userProfile state to null and return\n      if (!token) {\n        setIsLoggedIn(false);\n        setUserProfile(null);\n        return;\n      }\n\n      // if there is a token, send a GET request to the server to check the token and get the user's profile information (using the /auth/status endpoint)\n      try {\n        // response contains the user's profile information such as email, name, surname, phone number\n        const response = await axios.get('http://127.0.0.1:8000/auth/status', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        // if the response is successful, set the isLoggedIn state to true, set the userId state to the user's id, and set the userProfile state to the user's profile information\n        setIsLoggedIn(true);\n        setUserId(response.data.userId);\n        setUserProfile(response.data);\n      }\n      // if there is an error, catch the error, remove the token from the local storage, set the isLoggedIn state to false, set the userProfile state to null, and redirect the user to the login page\n      catch (error) {\n        console.error('Error validating token:', error);\n        localStorage.removeItem('token');\n        setIsLoggedIn(false);\n        setUserProfile(null);\n        navigate('/login');\n      }\n    };\n\n    // call the local function checkLoginStatus to check the login status of the user when the component mounts (in each navigation, it will run)\n    checkLoginStatus();\n  }, [navigate]);\n\n  // handleLogin function is defined to update the login status, user id, and user profile information to be passed to the child componnent Login\n  const handleLogin = (loggedIn, id, profileData) => {\n    setIsLoggedIn(loggedIn);\n    setUserId(id);\n    setUserProfile(profileData);\n  };\n\n  // handleLogout function is defined to remove the token from local storage and update the login status, user id, and user profile information\n  const handleLogout = () => {\n    // remove the token \n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n    setUserId(null);\n    setUserProfile(null);\n    // redirect the user to the home page after successful logout\n    navigate('/');\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    isLoggedIn: isLoggedIn,\n    userProfile: userProfile,\n    onLogout: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(HomePage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: /*#__PURE__*/React.createElement(Login, {\n      onLogin: handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    element: /*#__PURE__*/React.createElement(Register, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 42\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/profile\",\n    element: /*#__PURE__*/React.createElement(Profile, {\n      isLoggedIn: isLoggedIn,\n      userProfile: userProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 41\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/cart\",\n    element: /*#__PURE__*/React.createElement(ShoppingCart, {\n      isLoggedIn: isLoggedIn,\n      userId: userId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 38\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  })));\n}\nexport default AppContent;\n\n/*\n  Created a functional component named AppContent because useNavigate hook must be used within a component that is rendered inside a Router.\n\n  In AppContent component:\n    - We have a state variable isLoggedIn to keep track of the user's login status.\n    - We have a state variable userId to keep track of the user's id.\n    - We have a state variable userProfile to keep track of the user's profile information. (like email, name, surname, phone number),\n    - We have a function handleLogin to update the login status, user id, and user profile information to be passed to the child componnent Login.\n    - We have a function handleLogout to remove the token from local storage and update the login status, user id, and user profile information.\n    - We have a useEffect hook to check the login status when the component mounts.\n    - We have a Routes component to define the routes in the application.\n    - We have Route components to map URLs to specific pages. \n\n\n  In jsx code:\n    - We have a Navbar component to display the navbar on every page.\n    - We have Route components to map URLs to specific pages.\n    - We have a HomePage component to display the home page.\n    - We have a Login component to display the login page.\n    - We have a Register component to display the register page.\n    - We have a Profile component to display the user's profile information.\n    - We have a ShoppingCart component to display the items in the shopping cart.\n*/\n\n/* \n  Functionalities of the App:\n    navbar is not a route. It is a component that is displayed on every page.\n    http://localhost:3000/ will display the Home Page component\n    http://localhost:3000/register will display the Register component\n    http://localhost:3000/login will display the Login component\n\n    We need to use Routes and Route components to map URLs to specific pages.\n*/","map":{"version":3,"names":["React","useState","useEffect","Route","Routes","useNavigate","Navbar","Login","Register","HomePage","Profile","ShoppingCart","axios","AppContent","isLoggedIn","setIsLoggedIn","userId","setUserId","userProfile","setUserProfile","navigate","checkLoginStatus","token","localStorage","getItem","response","get","headers","data","error","console","removeItem","handleLogin","loggedIn","id","profileData","handleLogout","createElement","Fragment","onLogout","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onLogin"],"sources":["/Users/tunahanyazar/Desktop/Cs_308_Project_Frontend/CS308-FE/src/AppContent.js"],"sourcesContent":["// AppContent.js\nimport React, { useState, useEffect } from 'react';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nimport Navbar from './navbar';\nimport Login from './login';\nimport Register from './register';\nimport HomePage from './HomePage';\nimport Profile from './profile';\nimport ShoppingCart from './ShoppingCart';\nimport axios from 'axios';\n\n\nfunction AppContent() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userId, setUserId] = useState(null);\n  const [userProfile, setUserProfile] = useState(null);\n  const navigate = useNavigate();\n\n  // this useEffect hook will run when the component mounts (in each navigation, it will run)\n  useEffect(() => {\n\n    // checkLoginStatus function is defined to check the login status of the user\n    const checkLoginStatus = async () => {\n      // take the token from the local storage of the web browser\n      const token = localStorage.getItem('token');\n      \n      // if there is no token, set the isLoggedIn state to false and set the userProfile state to null and return\n      if (!token) {\n        setIsLoggedIn(false);\n        setUserProfile(null);\n        return;\n      }\n\n      // if there is a token, send a GET request to the server to check the token and get the user's profile information (using the /auth/status endpoint)\n      try {\n        // response contains the user's profile information such as email, name, surname, phone number\n        const response = await axios.get('http://127.0.0.1:8000/auth/status', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n        // if the response is successful, set the isLoggedIn state to true, set the userId state to the user's id, and set the userProfile state to the user's profile information\n        setIsLoggedIn(true);\n        setUserId(response.data.userId);\n        setUserProfile(response.data);\n      } \n      // if there is an error, catch the error, remove the token from the local storage, set the isLoggedIn state to false, set the userProfile state to null, and redirect the user to the login page\n      catch (error) {\n        console.error('Error validating token:', error);\n        localStorage.removeItem('token');\n        setIsLoggedIn(false);\n        setUserProfile(null);\n        navigate('/login');\n      }\n    };\n\n    // call the local function checkLoginStatus to check the login status of the user when the component mounts (in each navigation, it will run)\n    checkLoginStatus();\n  }, [navigate]);\n\n  // handleLogin function is defined to update the login status, user id, and user profile information to be passed to the child componnent Login\n  const handleLogin = (loggedIn, id, profileData) => {\n    setIsLoggedIn(loggedIn);\n    setUserId(id);\n    setUserProfile(profileData);\n  };\n\n  // handleLogout function is defined to remove the token from local storage and update the login status, user id, and user profile information\n  const handleLogout = () => {\n    // remove the token \n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n    setUserId(null);\n    setUserProfile(null);\n    // redirect the user to the home page after successful logout\n    navigate('/');\n  };\n\n  return (\n    <>\n      <Navbar isLoggedIn={isLoggedIn} userProfile={userProfile} onLogout={handleLogout} />\n      <Routes>\n        <Route path=\"/\" element={<HomePage />} />\n        <Route path=\"/login\" element={<Login onLogin={handleLogin} />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/profile\" element={<Profile isLoggedIn={isLoggedIn} userProfile={userProfile} />} />\n        <Route path=\"/cart\" element={<ShoppingCart isLoggedIn={isLoggedIn} userId={userId} />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default AppContent;\n\n/*\n  Created a functional component named AppContent because useNavigate hook must be used within a component that is rendered inside a Router.\n\n  In AppContent component:\n    - We have a state variable isLoggedIn to keep track of the user's login status.\n    - We have a state variable userId to keep track of the user's id.\n    - We have a state variable userProfile to keep track of the user's profile information. (like email, name, surname, phone number),\n    - We have a function handleLogin to update the login status, user id, and user profile information to be passed to the child componnent Login.\n    - We have a function handleLogout to remove the token from local storage and update the login status, user id, and user profile information.\n    - We have a useEffect hook to check the login status when the component mounts.\n    - We have a Routes component to define the routes in the application.\n    - We have Route components to map URLs to specific pages. \n\n\n  In jsx code:\n    - We have a Navbar component to display the navbar on every page.\n    - We have Route components to map URLs to specific pages.\n    - We have a HomePage component to display the home page.\n    - We have a Login component to display the login page.\n    - We have a Register component to display the register page.\n    - We have a Profile component to display the user's profile information.\n    - We have a ShoppingCart component to display the items in the shopping cart.\n*/\n\n/* \n  Functionalities of the App:\n    navbar is not a route. It is a component that is displayed on every page.\n    http://localhost:3000/ will display the Home Page component\n    http://localhost:3000/register will display the Register component\n    http://localhost:3000/login will display the Login component\n\n    We need to use Routes and Route components to map URLs to specific pages.\n*/"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}